<div class="wrapper-comp-editor editor-with-buttons" id="editor-tab" data-editor="{self.editor}">
  <div class="tab">
    <button class="tablinks" aria-selected="true" onclick="openTab(event, 'editor')" id="default-tab" >Editor</button>
    <button class="tablinks" aria-selected="false" onclick="openTab(event, 'settings')">Settings</button>
  </div>

  <div id="editor" class="tabcontent">
    <div class="html-editor editor">
      <div class="layout-selector">
        <label for="layout-selector">Select Layout:</label>
        <select id="layout-selector" class="form-control" onchange="changeLayout(this)">
          <option value="left_right" {% if self.layout == 'left_right' %}selected{% endif %}>Text on the Left, Image on the Right</option>
          <option value="top_bottom" {% if self.layout == 'top_bottom' %}selected{% endif %}>Image on Top, Text on Bottom</option>
          <option value="side_by_side" {% if self.layout == 'side_by_side' %}selected{% endif %}>Side by Side</option>
          <option value="text_right_image_left" {% if self.layout == 'text_right_image_left' %}selected{% endif %}>Text on the Right, Image on the Left</option>
        </select>
      </div>

      {% if self.layout == "left_right" %}
      <div class="left-right-layout">
        <div class="text-left">
          <label for="left-text">Text</label>
          <textarea id="left-text" class="form-control" placeholder="Enter text">{{ self.data.text }}</textarea>
        </div>
        <div class="image-right">
          <label for="right-image">Image</label>
          <input type="file" id="right-image" class="form-control" onchange="previewImage('right-image-preview', this)">
          <img id="right-image-preview" class="image-preview" src="{{ self.data.image }}" alt="Preview" />
        </div>
      </div>

      {% elif self.layout == "text_right_image_left" %}
      <div class="text-right-image-left-layout">
        <div class="text-right">
          <label for="right-text">Text</label>
          <textarea id="right-text" class="form-control" placeholder="Enter text">{{ self.data.text }}</textarea>
        </div>
        <div class="image-left">
          <label for="left-image">Image</label>
          <input type="file" id="left-image" class="form-control" onchange="previewImage('left-image-preview', this)">
          <img id="left-image-preview" class="image-preview" src="{{ self.data.image }}" alt="Preview" />
        </div>
      </div>

      {% elif self.layout == "top_bottom" %}
      <div class="top-bottom-layout">
        <div class="image-top">
          <label for="top-image">Image</label>
          <input type="file" id="top-image" class="form-control" onchange="previewImage('top-image-preview', this)">
          <img id="top-image-preview" class="image-preview" src="{{ self.data.image }}" alt="Preview" />
        </div>
        <div class="text-bottom">
          <label for="bottom-text">Text</label>
          <textarea id="bottom-text" class="form-control" placeholder="Enter text">{{ self.data.text }}</textarea>
        </div>
      </div>

      {% elif self.layout == "side_by_side" %}
      <div class="side-by-side-layout">
        <div class="side-text">
          <label for="side-text">Text</label>
          <textarea id="side-text" class="form-control" placeholder="Enter text">{{ self.data.text }}</textarea>
        </div>
        <div class="side-image">
          <label for="side-image">Image</label>
          <input type="file" id="side-image" class="form-control" onchange="previewImage('side-image-preview', this)">
          <img id="side-image-preview" class="image-preview" src="{{ self.data.image }}" alt="Preview" />
        </div>
      </div>

      {% else %}
      <div class="default-layout">
        <p>Please select a layout from the settings tab.</p>
      </div>
      {% endif %}
    </div>
    
    <div class="xblock-actions">
      <span class="xblock-editor-error-message"></span>
      <ul>
        <li class="action-item">
          <a href="#" class="button action-primary save-button">Save</a>
        </li>
        <li class="action-item">
          <a href="#" class="button cancel-button">Cancel</a>
        </li>
      </ul>
    </div>
  </div>

  <div id="settings" class="tabcontent">
    {{ settings_page | safe }}
  </div>
</div>